{"remainingRequest":"/home/hercules/funny/frontend/node_modules/thread-loader/dist/cjs.js!/home/hercules/funny/frontend/node_modules/babel-loader/lib/index.js!/home/hercules/funny/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hercules/funny/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/hercules/funny/frontend/src/views/Register.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/hercules/funny/frontend/src/views/Register.vue","mtime":1613612647798},{"path":"/home/hercules/funny/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hercules/funny/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hercules/funny/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hercules/funny/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hercules/funny/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWdpc3RlciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBmaXJzdDogJycsCiAgICAgIGxhc3Q6ICcnLAogICAgICBlbWFpbDogJycsCiAgICAgIHBmcDogJycsCiAgICAgIGVtYWlsUmVhZHk6ICcnLAogICAgICB1c2VybmFtZVJlYWR5OiAnJywKICAgICAgdXNlcm5hbWVDbGFzczogJ2lucHV0JywKICAgICAgdXNlcm5hbWVJY29uQ2xhc3M6ICcnLAogICAgICB1c2VybmFtZUF2YWlsaWJsZTogJycsCiAgICAgIHVzZXJuYW1lX3JlYWR5OiAnJywKICAgICAgZW1haWxDbGFzczogJ2lucHV0JwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrRW1haWw6IGZ1bmN0aW9uIGNoZWNrRW1haWwoKSB7CiAgICAgIHZhciBkb21haW5zID0gWycuY29tJywgJy5uZXQnLCAnLm9yZyddOwogICAgICBpZiAoIXRoaXMuZW1haWwuaW5jbHVkZXMoJ0AnKSkgcmV0dXJuOwogICAgICB2YXIgdGVzdCA9IHRoaXMuZW1haWwuc3Vic3RyKHRoaXMuZW1haWwubGVuZ3RoIC0gNCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykgewogICAgICAgIHZhciBqID0gZG9tYWluc1tpXTsKICAgICAgICBjb25zb2xlLmxvZyh0ZXN0KTsKCiAgICAgICAgaWYgKHRlc3QgPT09IGopIHsKICAgICAgICAgIHRoaXMuZW1haWxSZWFkeSA9IHRydWU7CiAgICAgICAgICB0aGlzLmVtYWlsQ2xhc3MgPSAnaW5wdXQgaXMtc3VjY2Vzcyc7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmVtYWlsUmVhZHkgPSBmYWxzZTsKICAgICAgdGhpcy5lbWFpbENsYXNzID0gJ2lucHV0IGlzLWRhbmdlcic7CiAgICAgIHJldHVybjsKICAgIH0sCiAgICBjaGVja1VzZXJuYW1lOiBmdW5jdGlvbiBjaGVja1VzZXJuYW1lKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZmV0Y2goImh0dHBzOi9hcGktam9zZWZtYWNlcmEuaGVyb2t1YXBwLmNvbS9hcGkvY2hlY2siLCB7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgJ25hbWUnOiB0aGlzLnVzZXJuYW1lCiAgICAgICAgfSkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmlzX29rKTsKICAgICAgICBfdGhpcy51c2VybmFtZVJlYWR5ID0gZGF0YS5pc19vazsKCiAgICAgICAgaWYgKGRhdGEuaXNfb2sgPT09IGZhbHNlKSB7CiAgICAgICAgICBfdGhpcy51c2VybmFtZUNsYXNzID0gJ2lucHV0IGlzLWRhbmdlcic7CiAgICAgICAgICBfdGhpcy51c2VybmFtZUljb25DbGFzcyA9ICdmYXMgZmEtdGltZXMnLCBfdGhpcy51c2VybmFtZUF2YWlsaWJsZSA9ICdoZWxwIGlzLWRhbmdlcicsIF90aGlzLnVzZXJuYW1lX3JlYWR5ID0gJ1RoaXMgdXNlcm5hbWUgaXMgYWxyZWFkeSB0YWtlbiEgOignOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy51c2VybmFtZUNsYXNzID0gJ2lucHV0IGlzLXN1Y2Nlc3MnOwogICAgICAgICAgX3RoaXMudXNlcm5hbWVJY29uQ2xhc3MgPSAnZmFzIGZhLWNoZWNrJywgX3RoaXMudXNlcm5hbWVBdmFpbGlibGUgPSAnaGVscCBpcy1zdWNjZXNzJywgX3RoaXMudXNlcm5hbWVfcmVhZHkgPSAnVGhpcyB1c2VybmFtZSBpcyBhdmFpbGlibGUnOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGZldGNoKCJodHRwczovYXBpLWpvc2VmbWFjZXJhLmhlcm9rdWFwcC5jb20vYXBpL3JlZ2lzdGVyIiwgewogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgZmlyc3Q6IHRoaXMuZmlyc3QsCiAgICAgICAgICBsYXN0OiB0aGlzLmxhc3QsCiAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgICAgcGZwOiB0aGlzLnBmcAogICAgICAgIH0pCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGF0YS51c2VyKSk7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkoZGF0YS51c2VyKSk7CgogICAgICAgIF90aGlzMi4kZW1pdCgndXBkYXRlJywgSlNPTi5zdHJpbmdpZnkoZGF0YS51c2VyKSk7CgogICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/hercules/funny/frontend/src/views/Register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div>\n    <div class=\"columns\">\n        <div class=\"column\"></div>\n        <div class=\"column\">\n\n            <form @submit.prevent=\"register()\" method=\"post\">\n                <div class=\"columns\">\n                    <div class=\"column\">\n                        <div class=\"field\">\n                            <label class=\"label\">First Name</label>\n                            <div class=\"control\">\n                                <input class=\"input\" type=\"text\" v-model=\"first\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column\">\n                        <div class=\"field\">\n                            <label class=\"label\">Last Name</label>\n                            <div class=\"control\">\n                                <input class=\"input\" type=\"text\" v-model=\"last\">\n                            </div> \n                        </div>\n                    </div>\n                </div>\n\n\n\n                <div class=\"field\">\n                    <label class=\"label\">Username</label>\n                    <div class=\"control has-icons-left has-icons-right\">\n                        <input :class=\"usernameClass\" type=\"text\" placeholder=\"Make it unique!\" v-model=\"username\" @keyup=\"checkUsername()\" id=\"username_reg\" autocomplete=\"off\">\n                        <span class=\"icon is-small is-left\">\n                        <i class=\"fas fa-user\"></i>\n                        </span>\n                        <span class=\"icon is-small is-right\" id=\"check-username-holder\">\n                        <i :class=\"usernameIconClass\"></i>\n                        </span>\n                    </div>\n                    <p :class=\"usernameAvailible\">{{username_ready}}</p>\n                </div>\n                <div class=\"field\">\n                    <label class=\"label\">Email</label>\n                    <div class=\"control  has-icons-left has-icons-right\">\n                        <input :class=\"emailClass\" type=\"text\" placeholder=\"vue-is-awesome@example.com\" v-model=\"email\" @keyup=\"checkEmail()\" id=\"email_reg\">\n                        <span class=\"icon is-small is-left\">\n                        <i class=\"fas fa-at\"></i>\n                        </span>\n                    </div>\n                </div>\n            \n                <div class=\"field\">\n                    <label class=\"label\">Password</label>\n                    <div class=\"control has-icons-left has-icons-right\">\n                        <input type=\"password\" class=\"input\" v-model=\"password\">\n                        <span class=\"icon is-small is-left\">\n                        <i class=\"fas fa-key\"></i>\n                        </span>\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label class=\"label\">Profile Picture</label>\n                    <div class=\"control has-icons-left has-icons-right\">\n                        <input type=\"url\" class=\"input\" v-model=\"pfp\">\n                        <span class=\"icon is-small is-left\">\n                        <i class=\"fas fa-images\"></i>\n                        </span>\n                    </div>\n                </div>\n                <button class=\"button is-primary\" type=\"submit\" :disabled=\"!(usernameReady === true && emailReady === true)\">Register</button>\n            </form>\n\n        </div>\n        <div class=\"column\"></div>\n    </div>\n\n</div>\n</template>\n<style scoped>\n@import '../../node_modules/bulma';\n\n</style>\n<script>\nexport default {\n    name: \"Register\",\n    data() {\n        return {\n            username: '',\n            password: '',\n            first: '',\n            last: '',\n            email: '',\n            pfp: '',\n            emailReady: '',\n            usernameReady: '',\n            usernameClass: 'input',\n            usernameIconClass: '',\n            usernameAvailible: '',\n            username_ready: '',\n            emailClass: 'input'\n        }\n    },\n    methods: {\n        checkEmail() {\n            const domains = [\n                '.com',\n                '.net',\n                '.org'\n            ]\n            if (!(this.email.includes('@'))) return;\n            var test = this.email.substr(this.email.length - 4)\n            for (var i = 0; i < 3; i++) {\n                let j = domains[i];\n                console.log(test)\n                if (test === j) {\n                    this.emailReady = true;\n                    this.emailClass = 'input is-success'\n                    return;\n                }\n            }\n            this.emailReady = false;\n            this.emailClass = 'input is-danger'\n            return;\n        },\n        checkUsername() {\n            fetch(\"https:/api-josefmacera.herokuapp.com/api/check\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                    'name': this.username\n                })\n            }).then(res => res.json()).then(data => {\n                console.log(data.is_ok)\n                this.usernameReady = data.is_ok\n                if (data.is_ok === false)  {\n                    this.usernameClass = 'input is-danger'\n                    this.usernameIconClass = 'fas fa-times',\n                    this.usernameAvailible = 'help is-danger',\n                    this.username_ready = 'This username is already taken! :('\n                    }\n                else {\n                    this.usernameClass = 'input is-success'\n                    this.usernameIconClass = 'fas fa-check',\n                    this.usernameAvailible = 'help is-success',\n                    this.username_ready = 'This username is availible'\n                    }\n            })\n        },\n        register() {\n            fetch(\"https:/api-josefmacera.herokuapp.com/api/register\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                    username: this.username,\n                    first: this.first,\n                    last: this.last,\n                    email: this.email,\n                    password: this.password,\n                    pfp: this.pfp,\n                })\n            }).then(res => res.json()).then(data => {\n                console.log(JSON.stringify(data.user))\n                window.localStorage.setItem('user', JSON.stringify(data.user))\n                this.$emit('update', JSON.stringify(data.user))\n                this.$router.push('/')\n            })\n        }\n    },\n\n}\n</script>"],"sourceRoot":""}]}