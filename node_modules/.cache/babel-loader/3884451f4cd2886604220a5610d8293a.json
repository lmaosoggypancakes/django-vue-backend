{"remainingRequest":"/home/hercules/funny/pog/node_modules/babel-loader/lib/index.js!/home/hercules/funny/pog/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/hercules/funny/pog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hercules/funny/pog/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/hercules/funny/pog/src/App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"/home/hercules/funny/pog/src/App.vue","mtime":1613500653250},{"path":"/home/hercules/funny/pog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hercules/funny/pog/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hercules/funny/pog/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/hercules/funny/pog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hercules/funny/pog/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrIH0gZnJvbSAidnVlIjsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9OYXZiYXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiTmF2YmFyIik7CgogIHZhciBfY29tcG9uZW50X3JvdXRlcl92aWV3ID0gX3Jlc29sdmVDb21wb25lbnQoInJvdXRlci12aWV3Iik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X05hdmJhciwgewogICAgaXNfYXV0aDogJGRhdGEuaXNfdXNlciwKICAgIG9uSXNfdXNlcjogJG9wdGlvbnMubG9naW4sCiAgICB1c2VyOiAkZGF0YS51c2VyLAogICAgb25VcGRhdGU6ICRvcHRpb25zLnVwZGF0ZQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJpc19hdXRoIiwgIm9uSXNfdXNlciIsICJ1c2VyIiwgIm9uVXBkYXRlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9yb3V0ZXJfdmlldywgewogICAgb25Jc191c2VyOiAkb3B0aW9ucy5sb2dpbiwKICAgIG9uVXBkYXRlOiAkb3B0aW9ucy5sb2dpbl9mcm9tX3JlZwogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJvbklzX3VzZXIiLCAib25VcGRhdGUiXSldKTsKfQ=="},{"version":3,"sources":["/home/hercules/funny/pog/src/App.vue"],"names":[],"mappings":";;;;;;uBACE,YAAA,CAGM,KAHN,EAGM,IAHN,EAGM,CAFJ,YAAA,CAA2E,iBAA3E,EAA2E;AAAlE,IAAA,OAAO,EAAE,KAAA,CAAA,OAAyD;AAA/C,IAAA,SAAO,EAAE,QAAA,CAAA,KAAsC;AAA9B,IAAA,IAAI,EAAE,KAAA,CAAA,IAAwB;AAAjB,IAAA,QAAM,EAAE,QAAA,CAAA;AAAS,GAA3E,E,IAAA,E;;AAAA,I,4CAAA,CAEI,EADJ,YAAA,CAAyD,sBAAzD,EAAyD;AAA3C,IAAA,SAAO,EAAE,QAAA,CAAA,KAAkC;AAA1B,IAAA,QAAM,EAAE,QAAA,CAAA;AAAkB,GAAzD,E,IAAA,E;;AAAA,I,yBAAA,CACI,CAHN,C","sourcesContent":["<template>\n  <div>\n    <Navbar :is_auth='is_user' @is_user='login' :user=\"user\" @update='update'/>\n    <router-view @is_user='login' @update='login_from_reg' />\n  </div>\n</template>\n<style lang=\"scss\">\n@import \"../node_modules/bulma\";\n</style>\n<script>\nimport Navbar from \"./components/Navbar.vue\"\nexport default {\n  name: \"app\",\n  mounted() {\n    this.ValidateUser()\n  },\n  methods: {\n      login_from_reg(user) {\n        this.user = JSON.parse(user)\n        this.is_user = true\n      },\n      update(user) {\n        console.log('updated')\n        this.user = user\n      },\n      login(value) {\n        this.is_user = value\n        console.log(\"event received\")\n      },\n      ValidateUser() {\n        var user;\n        try {\n          user = JSON.parse(window.localStorage.getItem(\"user\"));\n        } catch(e) {\n          user = ''\n        }\n        console.log(user)\n        this.user = user\n        fetch(\"http://127.0.0.1:8000/api/login\", {\n          method: \"POST\",\n          body: JSON.stringify({\n            username: user.username,\n            password: user.password,\n          })\n          }).then(res => res.json()).then(data => {\n            if (JSON.stringify(data.user) !== JSON.stringify(user))\n            {\n              this.$router.push(\"login\")\n              this.is_user = false;\n              console.log(\"not logged in\")\n            } else {\n              this.is_user = true;\n              console.log(\"yes logged in\");\n              }\n          })\n    },\n  },\n  components: {\n    Navbar\n  },\n  data() {\n    return {\n      is_user: false,\n      user: Object\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}]}