{"remainingRequest":"/home/hercules/funny/pog/node_modules/babel-loader/lib/index.js!/home/hercules/funny/pog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hercules/funny/pog/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/hercules/funny/pog/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/hercules/funny/pog/src/views/Login.vue","mtime":1613591564610},{"path":"/home/hercules/funny/pog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hercules/funny/pog/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hercules/funny/pog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hercules/funny/pog/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAkIGZyb20gIi4uLy4uL25vZGVfbW9kdWxlcy9qcXVlcnkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHVzZXI6IHt9LAogICAgICBzZWU6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdmlzaWJpbGl0eTogZnVuY3Rpb24gdmlzaWJpbGl0eSgpIHsKICAgICAgaWYgKHRoaXMuc2VlID09PSBmYWxzZSkgewogICAgICAgICQoIiNwYXNzd29yZF92aXNpYmlsaXR5IikuYXR0cigidHlwZSIsICJ0ZXh0Iik7CiAgICAgICAgJCgiI2V5ZS1pY29uIikuYXR0cignY2xhc3MnLCAnZmFzIGZhLWV5ZS1zbGFzaCcpOwogICAgICAgIHRoaXMuc2VlID0gdHJ1ZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNlZSA9PT0gdHJ1ZSkgewogICAgICAgICQoIiNwYXNzd29yZF92aXNpYmlsaXR5IikuYXR0cigidHlwZSIsICJwYXNzd29yZCIpOwogICAgICAgICQoIiNleWUtaWNvbiIpLmF0dHIoJ2NsYXNzJywgJ2ZhcyBmYS1leWUnKTsKICAgICAgICB0aGlzLnNlZSA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvZ2luIikuY2xhc3NOYW1lID0gJ2J1dHRvbiBpcy1wcmltYXJ5IGlzLWxvYWRpbmcnOwogICAgICBmZXRjaCgiaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9sb2dpbiIsIHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgfSkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoZGF0YS52YWxpZCA9PT0gJ3RydWUnKSB7CiAgICAgICAgICBfdGhpcy4kZW1pdCgnaXNfdXNlcicsIHRydWUpOwoKICAgICAgICAgIF90aGlzLiRlbWl0KCd1cGRhdGUnLCBKU09OLnN0cmluZ2lmeShkYXRhLnVzZXIpKTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoZGF0YS5tZXNzYWdlKTsKICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsb2dpbiIpLmNsYXNzTmFtZSA9ICdidXR0b24gaXMtcHJpbWFyeSc7CiAgICAgICAgfQoKICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeShkYXRhLnVzZXIpKTsKICAgICAgICBfdGhpcy51c2VyID0gZGF0YS51c2VyOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/hercules/funny/pog/src/views/Login.vue"],"names":[],"mappings":";AA4CA,OAAO,CAAP,MAAc,2BAAd;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,EADL;AAEL,MAAA,QAAQ,EAAE,EAFL;AAGL,MAAA,IAAI,EAAE,EAHD;AAIL,MAAA,GAAG,EAAE;AAJA,KAAP;AAMD,GATY;AAUb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,wBACM;AACX,UAAI,KAAK,GAAL,KAAa,KAAjB,EAAwB;AACtB,QAAA,CAAC,CAAC,sBAAD,CAAD,CAA0B,IAA1B,CAA+B,MAA/B,EAAuC,MAAvC;AACA,QAAA,CAAC,CAAC,WAAD,CAAD,CAAe,IAAf,CAAoB,OAApB,EAA6B,kBAA7B;AACA,aAAK,GAAL,GAAW,IAAX;AACF,OAJA,MAIO,IAAI,KAAK,GAAL,KAAa,IAAjB,EAAuB;AAC5B,QAAA,CAAC,CAAC,sBAAD,CAAD,CAA0B,IAA1B,CAA+B,MAA/B,EAAuC,UAAvC;AACA,QAAA,CAAC,CAAC,WAAD,CAAD,CAAe,IAAf,CAAoB,OAApB,EAA6B,YAA7B;AACA,aAAK,GAAL,GAAW,KAAX;AACF;AACD,KAXM;AAYP,IAAA,KAZO,mBAYC;AAAA;;AACN,MAAA,QAAQ,CAAC,aAAT,CAAuB,QAAvB,EAAiC,SAAjC,GAA6C,8BAA7C;AACA,MAAA,KAAK,CAAC,iCAAD,EAAoC;AACvC,QAAA,MAAM,EAAE,MAD+B;AAEvC,QAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe;AACnB,UAAA,QAAQ,EAAE,KAAK,QADI;AAEnB,UAAA,QAAQ,EAAE,KAAK;AAFI,SAAf;AAFiC,OAApC,CAAL,CAMG,IANH,CAMQ,UAAA,GAAE;AAAA,eAAK,GAAG,CAAC,IAAJ,EAAL;AAAA,OANV,EAM2B,IAN3B,CAMgC,UAAA,IAAG,EAAK;AACtC,YAAI,IAAI,CAAC,KAAL,KAAe,MAAnB,EAA2B;AACzB,UAAA,KAAI,CAAC,KAAL,CAAW,SAAX,EAAsB,IAAtB;;AACA,UAAA,KAAI,CAAC,KAAL,CAAW,QAAX,EAAqB,IAAI,CAAC,SAAL,CAAe,IAAI,CAAC,IAApB,CAArB;;AACA,UAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACF,SAJA,MAKK;AACH,UAAA,KAAK,CAAC,IAAI,CAAC,OAAN,CAAL;AACA,UAAA,QAAQ,CAAC,aAAT,CAAuB,QAAvB,EAAiC,SAAjC,GAA6C,mBAA7C;AACF;;AACA,QAAA,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,MAA5B,EAAoC,IAAI,CAAC,SAAL,CAAe,IAAI,CAAC,IAApB,CAApC;AACA,QAAA,KAAI,CAAC,IAAL,GAAY,IAAI,CAAC,IAAjB;AACD,OAlBD;AAmBF;AAjCO;AAVI,CAAf","sourcesContent":["<template>\n  <div>\n    <div class=\"columns\">\n      <div class=\"column\"></div>\n\n      <div class=\"column\">\n        <form @submit.prevent=\"login()\">\n\n          <div class=\"field\">\n              <label class=\"label\">Username</label>\n              <div class=\"control has-icons-left has-icons-right\">\n                  <input class=\"input\" type=\"text\" placeholder=\"e.g soggy_pancakes\" v-model=\"username\" id=\"username_log\" autocomplete=\"off\">\n                  <span class=\"icon is-small is-left\">\n                  <i class=\"fas fa-user\"></i>\n                  </span>\n              </div>\n          </div>\n\n          <div class=\"field\">\n            <label class=\"label\">Password</label>\n            <div class=\"control has-icons-left has-icons-right\">\n                <input class=\"input\" type=\"password\" v-model=\"password\" id=\"password_visibility\" autocomplete=\"off\" >\n                <span class=\"icon is-small is-left\">\n                <i class=\"fas fa-key\"></i>\n                </span>\n                <span class=\"icon is-small is-right\">\n                <i class=\"fas fa-eye\" id=\"eye-icon\"></i>\n                </span>\n            </div>\n          </div>\n          <label class=\"checkbox\">\n            <input type=\"checkbox\" @click=\"visibility()\">\n              Show Password\n          </label>\n          <br>\n          <button type=\"submit\" id=\"login\" class=\"button is-primary\" :disabled=\"!(username && password)\">Login</button>\n\n        </form>\n      </div>\n      <div class=\"column\"></div>\n    </div>\n  </div>\n</template>\n<script>\nimport $ from \"../../node_modules/jquery\"\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      username: '',\n      password: '',\n      user: {},\n      see: false\n    }\n  },\n  methods: {\n    visibility() {\n      if (this.see === false) {\n        $(\"#password_visibility\").attr(\"type\", \"text\")\n        $(\"#eye-icon\").attr('class', 'fas fa-eye-slash')\n        this.see = true\n      } else if (this.see === true) {\n        $(\"#password_visibility\").attr(\"type\", \"password\")\n        $(\"#eye-icon\").attr('class', 'fas fa-eye')\n        this.see = false\n      }\n    },\n    login() {\n      document.querySelector(\"#login\").className = 'button is-primary is-loading'\n      fetch(\"http://127.0.0.1:8000/api/login\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          username: this.username,\n          password: this.password,\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.valid === 'true') {\n          this.$emit('is_user', true)\n          this.$emit('update', JSON.stringify(data.user))\n          this.$router.push(\"/\")\n        }\n        else {\n          alert(data.message)\n          document.querySelector(\"#login\").className = 'button is-primary'\n        }\n        window.localStorage.setItem(\"user\", JSON.stringify(data.user))\n        this.user = data.user\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import \"../../node_modules/bulma\";\n</style>"],"sourceRoot":""}]}