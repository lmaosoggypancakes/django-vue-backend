{"remainingRequest":"/home/hercules/funny/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/hercules/funny/frontend/src/views/Profile.vue?vue&type=style&index=0&id=ced23842&scoped=true&lang=css","dependencies":[{"path":"/home/hercules/funny/frontend/src/views/Profile.vue","mtime":1614052910000},{"path":"/home/hercules/funny/frontend/node_modules/css-loader/dist/cjs.js","mtime":1613869030000},{"path":"/home/hercules/funny/frontend/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1613869059000},{"path":"/home/hercules/funny/frontend/node_modules/postcss-loader/src/index.js","mtime":1613869046000},{"path":"/home/hercules/funny/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1613869025000},{"path":"/home/hercules/funny/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1613869059000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hdmF0YXIgewogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgd2lkdGg6IDUwcHg7CiAgaGVpZ2h0OiA1MHB4OwogIGJvcmRlci1yYWRpdXM6IDUwJTsKfQo="},{"version":3,"sources":["/home/hercules/funny/frontend/src/views/Profile.vue"],"names":[],"mappings":";AAwHA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACpB","file":"/home/hercules/funny/frontend/src/views/Profile.vue","sourceRoot":"","sourcesContent":["<template>\n    <div>\n        <div class=\"columns\">\n            <div class=\"column\"></div>\n            <div class=\"column\">\n                <img :src=\"pfp\" alt=\"Avatar\" class=\"avatar\">\n                <form @submit.prevent=\"updateUser()\">\n                    <div class=\"field\">\n                        <label class=\"label\">Username</label>\n                        <div class=\"control has-icons-left\">\n                            <input type=\"text\" id=\"usernmae\" class=\"input\" :disabled='!editMode' v-model=\"username\">\n                            <span class=\"icon is-left\">\n                                <i class=\"fas fa-user\"></i>\n                            </span>\n                        </div>\n                    </div>\n                    <div class=\"field\">\n                        <label class=\"label\">Profile Picture</label>\n                        <div class=\"control has-icons-left\">\n                            <input type=\"text\" id=\"pfp\" class=\"input\" :disabled='!editMode' v-model=\"pfp\" placeholder=\"Picture URL\">\n                            <span class=\"icon is-left\">\n                                <i class=\"fas fa-image\"></i>\n                            </span>\n                        </div>\n                    </div>\n                    <label class=\"label\">Password</label>\n                    <div class=\"field is-grouped\">\n                        <p class=\"control is-expanded\">\n                            <input class=\"input\" :type=\"type\" :disabled='!editMode' v-model=\"password\">\n                        </p>\n                        <p class=\"control\">\n                            <a class=\"button is-primary\" @click=\"visibility()\">\n                                <i :class=\"eye\" id=\"eye\"></i>\n                            </a>\n                        </p>\n                    </div>\n\n                    <div class=\"field is-grouped\">\n                        <div class=\"control\">\n                            <input type=\"text\" id=\"first\" class=\"input\" :disabled=\"!editMode\" v-model=\"first\" >\n                        </div>\n                        <div class=\"control\">\n                            <input type=\"text\" id=\"last\" class=\"input\" :disabled=\"!editMode\" v-model=\"last\" >\n                        </div>\n                    </div> \n                </form>\n                <button class=\"button is-primary\" @click=\"switchForm()\">Edit</button>\n                <button class=\"button is-primary\" @click=\"updateUser()\" style=\"display: none;\" id=\"save\">Save</button>\n            </div>\n            <div class=\"column\"></div>\n        </div>\n    </div>\n</template>\n<script>\nimport $ from 'jquery';\nexport default {\n    name: \"Profile\",\n    data() {\n        return {\n            id: '',\n            username: '',\n            password: '',\n            email: '',\n            first: '',\n            last: '',\n            editMode: false,\n            type: 'password',\n            eye: 'fas fa-eye-slash',\n            pfp: ''\n        }\n    },\n    mounted() {\n        var user = window.localStorage.getItem('user');\n        user = JSON.parse(user);\n        this.id = user.id\n        this.username = user.username\n        this.password = user.password\n        this.email = user.email\n        this.first = user.first\n        this.last = user.last\n        this.pfp = user.image\n    },\n    methods: {\n        visibility() {\n            if (this.type === 'password') {\n                this.type = 'text'\n                this.eye = 'fas fa-eye'\n                }\n            else {\n                this.type = 'password'\n                this.eye = 'fas fa-eye-slash'\n                }\n        },\n        switchForm() {\n            this.editMode = true \n            event.target.style.display = 'none';\n            $(\"#save\").css('display', 'block')\n        },\n        updateUser() {\n            console.log(this.username)\n            fetch('http://127.0.0.1:8000/api/update', {\n                method: 'PUT',\n                body:  JSON.stringify({\n                    username: this.username,\n                    password: this.password,\n                    email: this.email,\n                    first: this.first,\n                    last: this.last,\n                    id: this.id,\n                    pfp: this.pfp\n                })\n            }).then(res => res.json()).then(data => {\n                window.localStorage.setItem('user', data.user)\n                alert(\"your data has been saved.\")\n            })\n        }\n    }\n}\n</script>\n<style scoped>\n.avatar {\n  vertical-align: middle;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n}\n</style>\n"]}]}